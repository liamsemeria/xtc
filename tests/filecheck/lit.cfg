import lit.formats
import os

config.name = "xtc"
config.test_format = lit.formats.ShTest()
config.suffixes = ['.mlir', '.py']

config.test_source_root = os.path.dirname(__file__)
config.excludes = ['utils.py', 'experimental']
config.environment["TIMEOUT"] = "10"

# Environment passed to subprocesses
env_passthrough = [
    "COVERAGE_PROCESS_START",
    "COVERAGE_FILE",
    "PYTHONPATH",
]
config.environment.update({
    var: os.environ[var]
    for var in env_passthrough
    if var in os.environ
})
